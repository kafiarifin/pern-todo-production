{"version":3,"sources":["components/Login.js","components/Register.js","components/dashboard/todolist/Create.js","components/dashboard/todolist/Edit.js","components/dashboard/todolist/List.js","components/dashboard/Dashboard.js","components/Landing.js","App.js","index.js"],"names":["Login","setAuth","useState","email","password","inputs","setInputs","onChange","e","target","name","value","onSubmitForm","a","preventDefault","body","fetch","method","headers","JSON","stringify","response","json","parseRes","jwtToken","localStorage","setItem","toast","success","error","console","message","class","to","src","width","height","style","marginRight","alt","className","onSubmit","type","placeholder","Register","TodoCreate","setTodosChange","description","setDescription","myHeaders","Headers","append","jwt_token","TodoEdit","todo","updateDescription","id","data-toggle","data-target","onClick","data-dismiss","TodoList","allTodos","todos","setTodos","deleteTodo","window","location","useEffect","map","key","role","aria-label","Dashboard","setName","setAllTodos","todosChange","getProfile","res","parseData","logout","removeItem","err","getSearchResult","jsonData","getTodos","href","Landing","configure","App","checkAuthenticated","setIsAuthenticated","isAuthenticated","boolean","exact","path","render","props","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd721143.chunk.js","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Login = ({ setAuth }) => {\r\n  const [inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\"\r\n  });\r\n\r\n  const { email, password } = inputs;\r\n\r\n  const onChange = e =>\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n\r\n  const onSubmitForm = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { email, password };\r\n      const response = await fetch(\r\n        \"http://localhost:3005/user/login\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(body)\r\n        }\r\n      );\r\n\r\n      const parseRes = await response.json();\r\n\r\n      if (parseRes.jwtToken) {\r\n        localStorage.setItem(\"jwt_token\", parseRes.jwtToken);\r\n        setAuth(true);\r\n        toast.success(\"Logged in Successfully\");\r\n      } else {\r\n        setAuth(false);\r\n        toast.error(parseRes);\r\n      }\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <nav class=\"navbar mb-3\">\r\n      <Link to=\"/\"><img src=\"/back-arrow.svg\" width=\"35\" height=\"35\" style={{marginRight: \"10px\"}} class=\"d-inline-block align-top\" alt=\"\" /></Link>\r\n      </nav>\r\n      <h1 className=\"mt-5 text-center\">Login</h1>\r\n      <div className=\"container\">\r\n        <form onSubmit={onSubmitForm}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            value={email}\r\n            placeholder=\"email\"\r\n            onChange={e => onChange(e)}\r\n            className=\"form-control my-3\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            placeholder=\"password\"\r\n            onChange={e => onChange(e)}\r\n            className=\"form-control my-3\"\r\n          />\r\n          <button className=\"btn btn-info btn-block\">Submit</button>\r\n        </form>\r\n      </div>\r\n      <br></br>\r\n      <p className=\"text-center\">You haven't joined yet?</p>\r\n      <Link to=\"/register\"><p className=\"text-center\">Register</p></Link>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Register = ({ setAuth }) => {\r\n  const [inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\"\r\n  });\r\n\r\n  const { email, password, name } = inputs;\r\n\r\n  const onChange = e =>\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n\r\n  const onSubmitForm = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { email, password, name };\r\n      const response = await fetch(\r\n        \"http://localhost:3005/user/register\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(body)\r\n        }\r\n      );\r\n      const parseRes = await response.json();\r\n\r\n      if (parseRes.jwtToken) {\r\n        localStorage.setItem(\"jwt_token\", parseRes.jwtToken);\r\n        setAuth(true);\r\n        toast.success(\"Register Successfully\");\r\n      } else {\r\n        setAuth(false);\r\n        toast.error(parseRes);\r\n      }\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <nav class=\"navbar mb-3\">\r\n      <Link to=\"/\"><img src=\"/back-arrow.svg\" width=\"35\" height=\"35\" style={{marginRight: \"10px\"}} class=\"d-inline-block align-top\" alt=\"\" /></Link>\r\n      </nav>\r\n      <h1 className=\"mt-5 text-center\">Register</h1>\r\n      <div className=\"container\">\r\n        <form onSubmit={onSubmitForm}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            value={email}\r\n            placeholder=\"email\"\r\n            onChange={e => onChange(e)}\r\n            className=\"form-control my-3\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            placeholder=\"password\"\r\n            onChange={e => onChange(e)}\r\n            className=\"form-control my-3\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            placeholder=\"name\"\r\n            onChange={e => onChange(e)}\r\n            className=\"form-control my-3\"\r\n          />\r\n          <button className=\"btn btn-info btn-block\">Submit</button>\r\n        </form>\r\n      </div>\r\n      <br></br>\r\n      <p className=\"text-center\">Already have an account?</p>\r\n      <Link to=\"/login\"><p className=\"text-center\">Login</p></Link>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;","import React, { Fragment, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst TodoCreate = ({setTodosChange}) => {\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const onSubmitForm = async e => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const body = { description };\r\n\r\n      const myHeaders = new Headers();\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      myHeaders.append(\"jwt_token\", localStorage.jwt_token);\r\n\r\n      const response = await fetch(\"http://localhost:3005/dashboard/todos\", {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: JSON.stringify(body)\r\n      });\r\n      \r\n      toast.error(await response.json());\r\n      setTodosChange(true);\r\n      setDescription(\"\");\r\n      // window.location = \"/dashboard\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"container\">\r\n        <form className=\"d-flex mt-5\" onSubmit={onSubmitForm}>\r\n          <div class=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={description}\r\n              placeholder=\"Type your task...\"\r\n              onChange={e => setDescription(e.target.value)}\r\n            />\r\n            <div class=\"input-group-append\">\r\n              <button className=\"btn btn-info\">Add</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TodoCreate;","import React, { Fragment, useState } from \"react\";\r\n\r\nconst TodoEdit = ({ todo, setTodosChange }) => {\r\n  const [description, setDescription] = useState(todo.description);\r\n\r\n  //edit description function\r\n  const updateDescription = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { description };\r\n\r\n      const myHeaders = new Headers();\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      myHeaders.append(\"jwt_token\", localStorage.jwt_token);\r\n\r\n      await fetch(\r\n        `http://localhost:3005/dashboard/todos/${todo.id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: myHeaders,\r\n          body: JSON.stringify(body)\r\n        }\r\n      );\r\n\r\n      setTodosChange(true);\r\n      // window.location = \"/dashboard\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-warning btn-sm\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${todo.id}`}\r\n      >\r\n        Edit\r\n      </button>\r\n\r\n      {/* \r\n        id = id10\r\n      */}\r\n      <div\r\n        className=\"modal\"\r\n        id={`id${todo.id}`}\r\n        onClick={() => setDescription(todo.description)}\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Edit Todo</h4>\r\n              <button\r\n                type=\"button\"\r\n                className=\"close\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={e => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-warning\"\r\n                data-dismiss=\"modal\"\r\n                onClick={e => updateDescription(e)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-dark\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TodoEdit;","import React, { Fragment, useEffect, useState } from \"react\";\r\n\r\nimport TodoEdit from \"./Edit\";\r\n\r\nconst TodoList = ({allTodos, setTodosChange}) => {\r\n  const [todos, setTodos] = useState([]);\r\n\r\n  //delete todo function\r\n  const deleteTodo = async id => {\r\n    try {\r\n        await fetch(`http://localhost:3005/dashboard/todos/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: { jwt_token: localStorage.jwt_token }\r\n      });\r\n\r\n      // setTodosChange(true);\r\n      // setTodos(todos.filter(todo => todo.id !== id));\r\n      window.location = \"/dashboard\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTodos(allTodos);\r\n  }, [allTodos]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {\" \"}\r\n      <table className=\"table mt-5 text-center\">\r\n        <thead>\r\n          <tr>\r\n            <th>Todo Task</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {/*<tr>\r\n            <td>John</td>\r\n            <td>Doe</td>\r\n            <td>john@example.com</td>\r\n          </tr> */}\r\n          {todos.map(todo => (\r\n            <tr key={todo.id}>\r\n              <td>{todo.description}</td>\r\n              <td>\r\n                <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                  <TodoEdit todo={todo} setTodosChange={setTodosChange}/>\r\n                  <button\r\n                    className=\"btn btn-info btn-sm\"\r\n                    onClick={() => deleteTodo(todo.id)}\r\n                  >\r\n                    Done\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TodoList;","import React, { useEffect, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n//components\r\nimport TodoCreate from \"./todolist/Create\";\r\nimport TodoList from \"./todolist/List\";\r\n\r\nconst Dashboard = ({ setAuth }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [allTodos, setAllTodos] = useState([]);\r\n  const [todosChange, setTodosChange] = useState(false);\r\n\r\n  const getProfile = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:3005/dashboard/\", {\r\n        method: \"GET\",\r\n        headers: { jwt_token: localStorage.jwt_token }\r\n      });\r\n\r\n      const parseData = await res.json();\r\n      setName(parseData.name);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const logout = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      localStorage.removeItem(\"jwt_token\");\r\n      setAuth(false);\r\n      toast.success(\"Logout successfully\");\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const getSearchResult = async e => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const myHeaders = new Headers();\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      myHeaders.append(\"jwt_token\", localStorage.jwt_token);\r\n\r\n      const response = await fetch(`http://localhost:3005/dashboard/todos/search?description=${description}`, {\r\n        method: \"GET\",\r\n        headers: myHeaders\r\n      });\r\n\r\n      const jsonData = await response.json();\r\n      setAllTodos(jsonData);\r\n      setDescription(\"\")\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const getTodos = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:3005/dashboard/todos\",{\r\n        method: \"GET\",\r\n        headers: { jwt_token: localStorage.jwt_token }\r\n      });\r\n      const jsonData = await response.json();\r\n\r\n      setAllTodos(jsonData);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProfile();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getTodos();\r\n    setTodosChange(false);\r\n  }, [todosChange]);\r\n\r\n  return (\r\n    <div>\r\n      <nav class=\"navbar navbar-dark bg-info mb-3\">\r\n        <a class=\"navbar-brand\" href=\"/dashboard\">\r\n          <img src=\"/logo.svg\" width=\"35\" height=\"35\" style={{marginRight: \"10px\"}} class=\"d-inline-block align-top\" alt=\"\" />\r\n          Hi, {name} !\r\n        </a>\r\n        <form class=\"form-inline\" onSubmit={getSearchResult}>\r\n          <div class=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={description}\r\n              placeholder=\"Search Todo...\"\r\n              onChange={e => setDescription(e.target.value)}\r\n            />\r\n            <div class=\"input-group-append\">\r\n              <button className=\"btn btn-dark\">Search</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <button onClick={e => logout(e)} class=\"btn btn-dark\">Logout</button>\r\n      </nav>\r\n      <TodoCreate setTodosChange={setTodosChange} />\r\n      <TodoList allTodos={allTodos} setTodosChange={setTodosChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Landing = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"jumbotron mt-5\">\n        <h1 class=\"display-4\">Welcome to Igaku Todo test</h1>\n        <p className=\"lead\">Let's make your todo list!</p>\n        <Link to=\"/login\" className=\"btn btn-info\">\n          Login\n        </Link>\n        <Link to=\"/register\" className=\"btn btn-success ml-3\">\n          Register\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Landing;","import React, { Fragment, useState, useEffect } from 'react';\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\n//components\r\nimport Login from \"./components/Login\";\r\nimport Register from \"./components/Register\";\r\nimport Dashboard from \"./components/dashboard/Dashboard\";\r\nimport Landing from \"./components/Landing\";\r\n\r\ntoast.configure();\r\n\r\nfunction App() {\r\n\r\n  const checkAuthenticated = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:3005/user/verify\", {\r\n        method: \"POST\",\r\n        headers: { jwt_token: localStorage.jwt_token }\r\n      });\r\n\r\n      const parseRes = await res.json();\r\n\r\n      parseRes === true ? setIsAuthenticated(true) : setIsAuthenticated(false);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkAuthenticated();\r\n  }, []);\r\n\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  const setAuth = boolean => {\r\n    setIsAuthenticated(boolean);\r\n  };\r\n  \r\n  return (\r\n    <Fragment>\r\n      <Router>\r\n        <div>\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path=\"/\"\r\n              render={props =>\r\n                !isAuthenticated ? (\r\n                  <Landing {...props} />\r\n                ) : (\r\n                  <Redirect to=\"/dashboard\" />\r\n                )\r\n              }\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/login\"\r\n              render={props =>\r\n                !isAuthenticated ? (\r\n                  <Login {...props} setAuth={setAuth} />\r\n                ) : (\r\n                  <Redirect to=\"/dashboard\" />\r\n                )\r\n              }\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/register\"\r\n              render={props =>\r\n                !isAuthenticated ? (\r\n                  <Register {...props} setAuth={setAuth} />\r\n                ) : (\r\n                  <Redirect to=\"/dashboard\" />\r\n                )\r\n              }\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/dashboard\"\r\n              render={props =>\r\n                isAuthenticated ? (\r\n                  <Dashboard {...props} setAuth={setAuth} />\r\n                ) : (\r\n                  <Redirect to=\"/login\" />\r\n                )\r\n              }\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}